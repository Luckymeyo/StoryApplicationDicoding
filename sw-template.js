(()=>{importScripts("https://storage.googleapis.com/workbox-cdn/releases/7.1.0/workbox-sw.js");try{importScripts("./db.bundle.js")}catch(e){console.error("[SW] Failed DB import:",e),self.getOutboxItems=async()=>[],self.clearOutbox=async()=>{}}if(workbox){console.log(`[SW] Workbox ${workbox.core.version} loaded.`),workbox.precaching.precacheAndRoute([{'revision':null,'url':'/StoryApplicationDicoding/438.cf5f5d64b4bec0e7a739.bundle.js'},{'revision':'a09afd57099dc21e9263ff61a08dff24','url':'/StoryApplicationDicoding/438.cf5f5d64b4bec0e7a739.bundle.js.LICENSE.txt'},{'revision':'21a0a0a9b1fdb78eae4c9d97f7e90078','url':'/StoryApplicationDicoding/favicon.png'},{'revision':null,'url':'/StoryApplicationDicoding/favicon.png'},{'revision':null,'url':'/StoryApplicationDicoding/images/2b3e1faf89f94a483539.png'},{'revision':null,'url':'/StoryApplicationDicoding/images/416d91365b44e4b4f477.png'},{'revision':null,'url':'/StoryApplicationDicoding/images/8f2c4d11474275fbc161.png'},{'revision':'fc206a66d24fe8cc7b1376930538b2c0','url':'/StoryApplicationDicoding/images/icon-192.png'},{'revision':'6bb68d9ad73a48b80addf41f11c0cb5d','url':'/StoryApplicationDicoding/images/icon-512.png'},{'revision':'ac73f380ba0147f4fa5951dfaba2a665','url':'/StoryApplicationDicoding/images/logo.png'},{'revision':'f5814dd39db300812f0966492368ad6c','url':'/StoryApplicationDicoding/index.html'},{'revision':null,'url':'/StoryApplicationDicoding/main.51dbd3409a6b6b902e20.bundle.js'},{'revision':null,'url':'/StoryApplicationDicoding/main.6b8a2cf28e5f6e536895.css'},{'revision':'35ea879e36da92d5b088ac1c5f972797','url':'/StoryApplicationDicoding/offline.html'},{'revision':null,'url':'/StoryApplicationDicoding/offline.html'},{'revision':null,'url':'/StoryApplicationDicoding/runtime.e80072061d9b4fcffc0b.bundle.js'}]);const{registerRoute:e,setCatchHandler:t}=workbox.routing,{NetworkFirst:o,StaleWhileRevalidate:s,CacheFirst:n}=workbox.strategies,{CacheableResponsePlugin:a}=workbox.cacheableResponse,{ExpirationPlugin:i}=workbox.expiration;e((({url:e})=>e.href.startsWith("https://story-api.dicoding.dev/")),new o({cacheName:"dicoding-api-cache",plugins:[new a({statuses:[0,200]}),new i({maxEntries:100,maxAgeSeconds:2592e3})]})),e((({url:e})=>e.origin.includes("fonts.googleapis.com")||e.origin.includes("fonts.gstatic.com")),new s({cacheName:"google-fonts-cache",plugins:[new a({statuses:[0,200]}),new i({maxEntries:30,maxAgeSeconds:31536e3})]})),e((({url:e})=>e.href.startsWith("https://use.fontawesome.com/releases/")),new n({cacheName:"fontawesome-cache",plugins:[new a({statuses:[0,200]}),new i({maxEntries:2,maxAgeSeconds:31536e3})]}));const c="offline.html";t((({event:e})=>"navigate"===e.request.mode?(console.log(`[SW] Fallback to ${c}`),caches.match(c).then((e=>e||fetch(c))).catch((()=>new Response("Offline page not available.",{status:503,statusText:"Offline",headers:{"Content-Type":"text/plain"}})))):Response.error()))}else console.error("[SW] Workbox failed to load.");self.addEventListener("sync"),self.addEventListener("push",(e=>{console.log("[SW] Push Received");let t="Story App",o={body:"Ada notifikasi!",icon:"images/icon-192.png",badge:"images/icon-192.png",data:{url:"./#/"}};try{if(e.data){const s=e.data.json();t=s.title||t,o={...o,...s.options}}else console.warn("[SW] No payload, using defaults.")}catch(e){console.warn("[SW] Payload parse error:",e)}e.waitUntil(self.registration.showNotification(t,o))})),self.addEventListener("notificationclick",(e=>{e.notification.close();const t=e.notification.data?.url||"./#/";e.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then((e=>e.find((e=>e.url.endsWith(t)))?.focus()||clients.openWindow(t))))})),self.addEventListener("install",(()=>{self.skipWaiting()})),self.addEventListener("activate",(()=>{clients.claim()}))})();
//# sourceMappingURL=sw-template.js.map